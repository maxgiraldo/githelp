<section data-ng-controller="UserController" data-ng-init="findOne()" ui-view>
  <div class="container profile">
    <div>
      <img class='avatar-lg' src='{{user.github.avatar_url}}'>
    </div>
    <div class='profile-name-info'>
      <h1 class='headline full-name'>{{user.fullName}}</h1>
      <h2 class='username'><a href="http://www.github.com/{{user.userName}}"><i class="fa fa-github"></i> {{user.userName}}</a></h2>
      <h2 data-ng-show = "user.github.blog" class="username"><a href="http://www.{{user.github.blog}}"><i class="fa fa-link"></i> {{user.github.blog}}</a></h2>
      <h3>{{user.ppm}}</h3>
      <span>Max: make a nice looking box for the edit snippet that shows up when you click on edit</span>
      <button data-ng-click="editForm()" data-ng-show="user">Edit</button>
      <div data-ng-show="showForm">
        <form data-ng-submit="submitEdit()">
          <label>Price Per Minute</label>
          <input type="text" data-ng-model="ppm">
          <span>don't forget to add price per hour to show user</span>
          <label>Self Intro:</label>
          <textarea type="text" data-ng-model="intro"></textarea>
          <div data-ng-include data-src="'views/partials/creditcard.html'"></div>
        </form>
      </div>
    </div>
    <div data-ng-show="user" class='call-button headline'>
      <p>Set up a call</p>
    </div>
    <div data-ng-hide="user">
      <h1>This user does not yet have an account</h1>
    </div>

    <!-- User's public repos -->
    <p data-ng-show="repoList.length > 0" class='caps-sub-header'>{{user.github.public_repos}} public repositories</p>
    <!-- <div ng-repeat="repo in repos"> -->
    <div>
      <ul class='repo-links'>
        <li data-ng-repeat="repo in repoList" data-ng-show="!repo.fork"><a href="/#!/{{user.userName}}/{{repo.name}}">{{repo.name}}</a></li>
      </ul>
    </div>
    <p data-ng-show="conList.length > 0" class='caps-sub-header'>top {{conList.length}} repositories contributed to</p>

    <!-- User's top contributions -->
    <div>
      <ul class='repo-links'>
        <li data-ng-repeat="repo in conList"><a href="/#!/{{user.userName}}/{{repoName(repo)}}">{{repoName(repo)}}</a></li>
      </ul>
    </div>
    <div>
      <p class='caps-sub-header'>Number of Gists: {{user.github.public_gists}}</p>
      <p data-ng-show="user.email" class='caps-sub-header'>Email: {{user.email}}</p>
      <p class='caps-sub-header'>Followers: {{user.github.followers}}</p>
    </div>
  </div>
</section>
